<f:layout name="Default" />
<f:section name="content">
<div class="module-deepl">
    <div class="module-header">
        <f:image src="EXT:ai_translate/Resources/Public/Icons/actions-localize-deepl.svg" alt="alt text" width="37" height="37" class="pull-left"/>
        <h1 class="pull-left"><f:translate key="deepl_settings"/></h1>
    </div>
    <div class="module-body">
           <h5><f:translate key="settings_assign"/></h5>
            <f:if condition="{sysLanguages}">
              <f:then>
                <f:form method="post" action="saveSettings">
                    <table class="table table-striped">
                      <tbody>
                        <tr>
                          <th><f:translate key="languageId"/></th>
                          <th><f:translate key="syslanguage"/></th>
                          <th><f:translate key="deepliso"/></th>
                        </tr>
                        <f:for each="{selectBox}" as="sysLanguageArray" key="siteIdentifier">
                            <tr><td colspan="3">{siteIdentifier}</td></tr>
                            <f:for each="{sysLanguageArray}" as="sysLanguage" key="deeplIso">
                          <tr>
                            <td>{sysLanguage.languageId}</td>
                            <td>{sysLanguage.title}</td>
                            <td>
                              <f:form.textfield name="languages[{siteIdentifier}][{sysLanguage.languageId}]"  maxlength="5" class="languageAssigned"  value="{sysLanguage.value}"/>
                            </td>
                          </tr>
                          </f:for>
                        </f:for>
                      </tbody>
                    </table>
                    <button type="submit" class="btn btn-default">Save</button>
                </f:form>
              </f:then>
              <f:else>
                <p><f:translate key="settings_no_language" /></p>
              </f:else>
            </f:if>
    </div>
</div>
<script type="text/javascript">
!function ($) {
$(document).ready(function($) {
    //avoid numeric
    $('.languageAssigned').keypress(function(key) {
      var keyCode = (key.keyCode ? key.keyCode : key.which);
      if ((key.charCode > 90 && key.charCode < 97 )|| (key.charCode < 65 && key.charCode!=45) || key.charCode > 122 ){
          return false;
      }
    });
});
}(TYPO3.jQuery);
 </script>
</f:section>
